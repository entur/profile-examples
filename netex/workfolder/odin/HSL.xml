<?xml version="1.0" encoding="UTF-8"?>
<PublicationDelivery 
    xmlns="http://www.netex.org.uk/netex"
    xmlns:gis="http://www.opengis.net/gml/3.2" 
    xmlns:siri="http://www.siri.org.uk/siri"
    version="1.10:NO-NeTEx-fares:0.9">
    
    <PublicationTimestamp>2020-04-28T22:00:00</PublicationTimestamp>
    <ParticipantRef>LMJ_HSL</ParticipantRef>
    
    <Description>Example of simple point to point fares</Description>
    <!--- =============== RESULTS =========== -->
    <dataObjects>
        
        <CompositeFrame version="1" id="myfares:DTA@z2Z">
            <validityConditions>
                <ValidBetween>
                    <FromDate>2011-01-01T00:00:00Z</FromDate>
                    <ToDate>2011-07-01T00:00:00Z</ToDate>
                </ValidBetween>
            </validityConditions>
            
            <codespaces>
                <Codespace id="HSL">
                    <Xmlns>HSL</Xmlns>
                    <XmlnsUrl>http://www.hsl.fi/</XmlnsUrl>
                    <Description>Helsingin seudun liikenne</Description>
                </Codespace>
            </codespaces>
    
    <FrameDefaults>
        <DefaultCodespaceRef ref="HSL"/>
        <DefaultLocale>
            <TimeZone>EET</TimeZone>
            <SummerTimeZone>EEST</SummerTimeZone>
            <DefaultLanguage>fi</DefaultLanguage>
            <languages>
                <LanguageUsage>
                    <Language>fi</Language>
                    <LanguageUse>allUses</LanguageUse>
                </LanguageUsage>
                <LanguageUsage>
                    <Language>se</Language>
                    <LanguageUse>understood</LanguageUse>
                </LanguageUsage>
            </languages>
            <!--
            <LanguageUsage>
                <Language>en</Language>
                <LanguageUse>understood</LanguageUse>
            </LanguageUsage>
            </languages>
            -->
        </DefaultLocale>
        <DefaultLocationSystem>EPSG:4326</DefaultLocationSystem>
        <DefaultSystemOfUnits>SiKilometresAndMetres</DefaultSystemOfUnits>
        <DefaultCurrency>EUR</DefaultCurrency>
    </FrameDefaults>
            <frames>
                
                <FareFrame id="HSL:FareFrame:1" version="1">
                    
                    
                    
                    <geographicalUnits>
                        <GeographicalUnit id="HSL:GeographicalUnit:zones" version="1">
                            <Name>Zones</Name>
                        </GeographicalUnit>
                    </geographicalUnits>
                    
                    <geographicalIntervals>
                        <GeographicalInterval id="HSL:geographicalInterval:Zone1" version="1">
                            <Name>Zone 1</Name>
                            <!-- Tarkista NetEx speksistä StartGeographicalValue -->
                            <StartGeographicalValue>0.1</StartGeographicalValue>
                            <EndGeographicalValue>1</EndGeographicalValue>
                            <NumberOfUnits>1</NumberOfUnits>
                            <IntervalType>tariffZone</IntervalType>
                            <GeographicalUnitRef ref="HSL:GeographicalUnit:zones"/>
                        </GeographicalInterval>
                        <GeographicalInterval id="HSL:geographicalInterval:Zone2" version="1">
                            <Name>Zone 2</Name>
                            <StartGeographicalValue>1.1</StartGeographicalValue>
                            <EndGeographicalValue>2</EndGeographicalValue>
                            <NumberOfUnits>1</NumberOfUnits>
                            <IntervalType>tariffZone</IntervalType>
                            <GeographicalUnitRef ref="HSL:GeographicalUnit:zones "/>
                        </GeographicalInterval>
                        <GeographicalInterval id="HSL:geographicalInterval:Zone3"
                            version="1">
                            <Name>Zone 3</Name>
                            <StartGeographicalValue>3.1</StartGeographicalValue>
                            <EndGeographicalValue>3</EndGeographicalValue>
                            <NumberOfUnits>1</NumberOfUnits>
                            <IntervalType>tariffZone</IntervalType>
                            <GeographicalUnitRef ref="HSL:GeographicalUnit:zones "/>
                        </GeographicalInterval>
                        <GeographicalInterval id="HSL:geographicalInterval:ZoneXYZ"
                            version="1">
                        <Name>Zone 4</Name>
                        <StartGeographicalValue>4.1</StartGeographicalValue>
                        <EndGeographicalValue>4</EndGeographicalValue>
                        <NumberOfUnits>1</NumberOfUnits>
                        <IntervalType>tariffZone</IntervalType>
                        <GeographicalUnitRef ref="HSL:GeographicalUnit:zones"/>
                        </GeographicalInterval>
                    </geographicalIntervals>
                    



<!-- HSL:FareStructureElement:ZoneInterval -->
       



                    <!-- 
                        REMARK:
                        
                        A bit unclear from the data the purpose of specified limitations, 
                        i.e. if the should be separate Paramteres (modeled as individual GenericParameterAssignment) 
                        or combined for specifying the same FareStructureElement.
                        
                        For this reason they have been structured as separate GenericParameterAssignment within a separate FaresStructureElement
                        rather than adding all to the <limitations> of the original FareStructureElement
                        (for easier restructuring, if this proposal does not fit the intended purpose) 
                    -->
                    
                    <geographicalStructureFactors>
                        <GeographicalStructureFactorRef ref="ref"></GeographicalStructureFactorRef>
                    </geographicalStructureFactors>
                    
                    <fareStructureElements>
                        <FareStructureElement id="HSL:FareStructureElement:1" version="1">
                            <GenericParameterAssignment id="HSL:GenericParameterAssignment:Cancellation" version="1" order="0">
                                <limitations>
                                    <!-- Cancelling describes HOW TO CANCEL (when allowed), i.e. redundant per next limitation Refunding (which given this is probably not correcly defined?) --> 
                                    <Cancelling id="HSL:Cancelling:1" version="1">
                                        <!--
                                        <Name> no cancellation </Name>
                                        <BookingArrangements>
                                            <BookingMethods>online</BookingMethods>
                                        </BookingArrangements>
                                        -->
                                    </Cancelling>
                                </limitations>
                            </GenericParameterAssignment>
                        </FareStructureElement>
                        
                        <FareStructureElement id="HSL:FareStructureElement:2" version="1">
                            <GenericParameterAssignment id="HSL:GenericParameterAssignment:Refunding" version="1" order="0">
                                <limitations>
                                    <Refunding version="1" id="HSL:Refunding:NotAllowed">
                                        <Name> No refund </Name>
                                        <Allowed>none</Allowed>
                                        <ExchangableUntilDuration>PT4H</ExchangableUntilDuration>
                                        <RefundType>cancellation</RefundType> 
                                    </Refunding>
                                </limitations>
                            </GenericParameterAssignment>
                        </FareStructureElement>
                        
                        <FareStructureElement id="HSL:FareStructureElement:3" version="1">
                            <GenericParameterAssignment id="HSL:GenericParameterAssignment:UsagePeriod" version="1" order="0">
                                <limitations>
                                    <UsageValidityPeriod version="1" id="HSL:UsageValidityPeriod:1Hour"> <!-- Eri vyöhykeväleillä eri mittainen -->
                                        <Name> 1 Hour </Name>
                                        <UsageTrigger>startOutboundRide</UsageTrigger> <!-- Alkaa myynnistä tai ajastettu -->
                                        <UsageEnd>standardDuration</UsageEnd>
                                        <StandardDuration>PT1H</StandardDuration> <!-- Eri vyöhykeväleillä eri mittainen, Miten minuutit merkitään? -->
                                    </UsageValidityPeriod>
                                </limitations>
                            </GenericParameterAssignment>
                        </FareStructureElement>
                        
                        <FareStructureElement id="HSL:FareStructureElement:4" version="1">
                            <GenericParameterAssignment id="HSL:GenericParameterAssignment:UsageFrequency" version="1" order="0">
                                <limitations>
                                    <FrequencyOfUse version="1" id="HSL:FrequencyOfUse:SingelTrip">
                                        <Name>Single</Name>
                                        <FrequencyOfUseType>unlimited</FrequencyOfUseType>
                                    </FrequencyOfUse>
                                </limitations>
                            </GenericParameterAssignment>
                        </FareStructureElement>                        

                        <FareStructureElement id="HSL:FareStructureElement:5" version="1">
                            <GenericParameterAssignment id="HSL:GenericParameterAssignment:Interchanging" version="1" order="0">
                                <limitations>
                                    <Interchanging version="1" id="HSL:Interchanging:CanInterchange">
                                        <Name>Interchange possible</Name>
                                        <CanInterchange>true</CanInterchange>
                                    </Interchanging>
                                </limitations>
                            </GenericParameterAssignment>
                        </FareStructureElement> 

                        <FareStructureElement id="HSL:FareStructureElement:6" version="1">
                            <GenericParameterAssignment id="HSL:GenericParameterAssignment:UserProfile" version="1" order="0">
                                <limitations>
                                    <UserProfile version="1" id="HSL:UserProfile:Adult">
                                        <Name> Adult </Name>
                                        <UserType>adult</UserType>
                                        <MinimumAge>18</MinimumAge>
                                        <MaximumAge>67</MaximumAge>
                                    </UserProfile>
                                </limitations>
                            </GenericParameterAssignment>
                        </FareStructureElement> 

                        <FareStructureElement id="HSL:FareStructureElement:7" version="1">
                            <GenericParameterAssignment id="HSL:GenericParameterAssignment:PurchaseWindow" version="1" order="0">
                                <limitations>
                                    <PurchaseWindow version="1" id="HSL:PurchaseWindow:1Day">
                                        <Name> 1 Day purchase window </Name>
                                        <PurchaseWhen>advanceAndDayOfTravel</PurchaseWhen>
                                        <MaximumPeriodBeforeDeparture> PT24H
                                        </MaximumPeriodBeforeDeparture>
                                    </PurchaseWindow>
                                </limitations>
                            </GenericParameterAssignment>
                        </FareStructureElement>
                    </fareStructureElements>
                    
                    

                    <validableElements>
                        <ValidableElement id="HSL:ValidableElement:SingleRide" version="1">
                            <fareStructureElements>
<!-- VERSION missing! --> 
                                <FareStructureElementRef ref="HSL:FareStructureElement:ZoneInterval" />
                            </fareStructureElements>
                                          
                        </ValidableElement>
                    </validableElements>
                    
                    
                    <fareProducts>
                        <PreassignedFareProduct id="HSL:PreassignedFareProduct:Single" version="1">
                            <Name> Single Ticket</Name>
                            <Description> A single ticket </Description>
                            <ChargingMomentType>beforeTravel</ChargingMomentType> <!-- prepaid -->
                            <validityParameterAssignments>
                                <GenericParameterAssignment id="HSL:GenericParameterAssignment:Cancellation" version="1" order="1">
                                    <limitations>
                                        <CancellingRef ref="HSL:Cancelling:1" version="1"/>
                                        <InterchangingRef ref="HSL:Interchanging:CanInterchange"/>
                                    </limitations>
                                </GenericParameterAssignment>
                            </validityParameterAssignments>
                            <accessRightsInProduct>
                                <AccessRightInProduct id="HSL:AccessRightInProduct:Single" version="1" order="1">
                                    <ValidableElementRef ref="HSL:ValidableElement:SingleRide" version="1"/>
                                </AccessRightInProduct>
                            </accessRightsInProduct>
                        </PreassignedFareProduct>
                    </fareProducts>
                    
                    
                    <fareTables>
                        <!--Selvitä miten erihintaiset vyöhykekombinaatiot kuvataan -->
                        <FareTable id="HSL:FareTable:Single" version="1">
                            <!-- 
                            <cells>    
                                <Cell>
                                    <PriceableObject
                                        <id> "ENT:GeographicalInterval:1Zone" </id>
                                        <version> "ENT:Version:V1" </version>
                                        </PriceableObject>
                                        <FarePrice>
                                            <Amount> 35 </Amount>
                                        </FarePrice>
                                </Cell>
                                <Cell>
                                    <PriceableObjectRef>
                                        <id> "ENT:GeographicalInterval:2Zones" </id>
                                        <version> "ENT:Version:V1" </version>
                                    </PriceableObjectRef>
                                    <FarePrice>
                                        <Amount> 54 </Amount>
                                    </FarePrice>
                                </Cell>  
                            </cells>
                            -->
                        </FareTable>
                    </fareTables>
                        

                        
<salesOfferPackages>
                        <SalesOfferPackage id="HSL:SalesOfferPackage:Single" version="1">
                            <salesOfferPackageElements>
                            <SalesOfferPackageElement id="HSL:SalesOfferPackageElement" version="1" order="1">
                                <FareProductRef ref="HSL:PreassignedFareProduct:Single"/>
                               
                            </SalesOfferPackageElement>
                            </salesOfferPackageElements>
                        </SalesOfferPackage>
                            
</salesOfferPackages>
                    <distributionAssignments>

                    
                    
                        <DistributionAssignment id="HSL:DistributionAssignment:1" version="1" order="1">
                            <SalesOfferPackageRef ref="HSL:SalesPackagerOffer:Single"/>
                        <DistributionRights>sell</DistributionRights>    
                            <DistributionChannelRef ref="HSL:DistributionChannel:App"/>
<DistributionChannelType>mobileDevice</DistributionChannelType>
 
                                
                            <OrganisationRef ref="ENT:Authority:1"/>
                            </DistributionAssignment>
                        
                    </distributionAssignments>
                    
                

                        

                    
                    
                </FareFrame>
            </frames>

            
        </CompositeFrame>
    </dataObjects>
</PublicationDelivery>